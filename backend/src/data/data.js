const data = {
  "purchases": [
    {
      "product_id": "PROD1",
      "paid_amount": 503.08,
      "saving_on": null,
      "date_of_purchase": "2022-07-08",
      "category": "Electronics"
    },
    {
      "product_id": "PROD2",
      "paid_amount": 196.15,
      "saving_on": 152.29,
      "date_of_purchase": "2022-09-09",
      "category": "Education"
    },
    {
      "product_id": "PROD3",
      "paid_amount": 437.2,
      "saving_on": 61.16,
      "date_of_purchase": "2023-03-14",
      "category": "Electronics"
    },
    {
      "product_id": "PROD4",
      "paid_amount": 104.3,
      "saving_on": null,
      "date_of_purchase": "2023-04-16",
      "category": "Electronics"
    },
    {
      "product_id": "PROD5",
      "paid_amount": 751.18,
      "saving_on": null,
      "date_of_purchase": "2024-11-11",
      "category": "Clothing"
    },
    {
      "product_id": "PROD6",
      "paid_amount": 283.98,
      "saving_on": 178.24,
      "date_of_purchase": "2024-09-13",
      "category": "Books"
    },
    {
      "product_id": "PROD7",
      "paid_amount": 885.08,
      "saving_on": null,
      "date_of_purchase": "2023-05-01",
      "category": "Electronics"
    },
    {
      "product_id": "PROD8",
      "paid_amount": 475.93,
      "saving_on": null,
      "date_of_purchase": "2024-07-28",
      "category": "Health"
    },
    {
      "product_id": "PROD9",
      "paid_amount": 511.3,
      "saving_on": null,
      "date_of_purchase": "2022-05-14",
      "category": "Beauty"
    },
    {
      "product_id": "PROD10",
      "paid_amount": 78.34,
      "saving_on": null,
      "date_of_purchase": "2023-07-23",
      "category": "Home & Kitchen"
    },
    {
      "product_id": "PROD11",
      "paid_amount": 647.2,
      "saving_on": 126.02,
      "date_of_purchase": "2024-02-02",
      "category": "Food"
    },
    {
      "product_id": "PROD12",
      "paid_amount": 660.98,
      "saving_on": 183.51,
      "date_of_purchase": "2024-04-29",
      "category": "Toys"
    },
    {
      "product_id": "PROD13",
      "paid_amount": 633.26,
      "saving_on": 105.75,
      "date_of_purchase": "2022-08-25",
      "category": "Beauty"
    },
    {
      "product_id": "PROD14",
      "paid_amount": 797.15,
      "saving_on": 95.61,
      "date_of_purchase": "2022-03-20",
      "category": "Books"
    },
    {
      "product_id": "PROD15",
      "paid_amount": 458.24,
      "saving_on": 153.29,
      "date_of_purchase": "2023-06-01",
      "category": "Beauty"
    },
    {
      "product_id": "PROD16",
      "paid_amount": 279.57,
      "saving_on": 1.7,
      "date_of_purchase": "2023-08-05",
      "category": "Toys"
    },
    {
      "product_id": "PROD17",
      "paid_amount": 409.56,
      "saving_on": null,
      "date_of_purchase": "2022-01-15",
      "category": "Food"
    },
    {
      "product_id": "PROD18",
      "paid_amount": 205.26,
      "saving_on": 68.86,
      "date_of_purchase": "2023-04-10",
      "category": "Education"
    },
    {
      "product_id": "PROD19",
      "paid_amount": 720.09,
      "saving_on": 107.37,
      "date_of_purchase": "2022-02-25",
      "category": "Clothing"
    },
    {
      "product_id": "PROD20",
      "paid_amount": 589.81,
      "saving_on": null,
      "date_of_purchase": "2024-09-03",
      "category": "Food"
    },
    {
      "product_id": "PROD21",
      "paid_amount": 293.44,
      "saving_on": null,
      "date_of_purchase": "2023-02-19",
      "category": "Health"
    },
    {
      "product_id": "PROD22",
      "paid_amount": 985.28,
      "saving_on": null,
      "date_of_purchase": "2024-08-30",
      "category": "Books"
    },
    {
      "product_id": "PROD23",
      "paid_amount": 493.91,
      "saving_on": 9.73,
      "date_of_purchase": "2023-07-06",
      "category": "Clothing"
    },
    {
      "product_id": "PROD24",
      "paid_amount": 221.88,
      "saving_on": null,
      "date_of_purchase": "2022-06-14",
      "category": "Electronics"
    },
    {
      "product_id": "PROD25",
      "paid_amount": 242.61,
      "saving_on": 76.25,
      "date_of_purchase": "2024-02-05",
      "category": "Food"
    },
    {
      "product_id": "PROD26",
      "paid_amount": 626.84,
      "saving_on": null,
      "date_of_purchase": "2023-01-10",
      "category": "Health"
    },
    {
      "product_id": "PROD27",
      "paid_amount": 78.14,
      "saving_on": 168.66,
      "date_of_purchase": "2024-01-20",
      "category": "Toys"
    },
    {
      "product_id": "PROD28",
      "paid_amount": 448.9,
      "saving_on": null,
      "date_of_purchase": "2022-07-19",
      "category": "Books"
    },
    {
      "product_id": "PROD29",
      "paid_amount": 466.41,
      "saving_on": 58.89,
      "date_of_purchase": "2023-01-29",
      "category": "Sports"
    },
    {
      "product_id": "PROD30",
      "paid_amount": 949.5,
      "saving_on": null,
      "date_of_purchase": "2022-05-22",
      "category": "Health"
    },
    {
      "product_id": "PROD31",
      "paid_amount": 773.68,
      "saving_on": null,
      "date_of_purchase": "2024-08-14",
      "category": "Toys"
    },
    {
      "product_id": "PROD32",
      "paid_amount": 359.7,
      "saving_on": null,
      "date_of_purchase": "2023-09-14",
      "category": "Electronics"
    },
    {
      "product_id": "PROD33",
      "paid_amount": 842.39,
      "saving_on": null,
      "date_of_purchase": "2023-03-30",
      "category": "Home & Kitchen"
    },
    {
      "product_id": "PROD34",
      "paid_amount": 754.85,
      "saving_on": null,
      "date_of_purchase": "2024-07-22",
      "category": "Clothing"
    },
    {
      "product_id": "PROD35",
      "paid_amount": 235.63,
      "saving_on": 137.94,
      "date_of_purchase": "2023-11-01",
      "category": "Toys"
    },
    {
      "product_id": "PROD36",
      "paid_amount": 410.51,
      "saving_on": null,
      "date_of_purchase": "2022-01-05",
      "category": "Books"
    },
    {
      "product_id": "PROD37",
      "paid_amount": 135.04,
      "saving_on": 8.67,
      "date_of_purchase": "2024-10-22",
      "category": "Food"
    },
    {
      "product_id": "PROD38",
      "paid_amount": 852.06,
      "saving_on": null,
      "date_of_purchase": "2024-02-16",
      "category": "Sports"
    },
    {
      "product_id": "PROD39",
      "paid_amount": 962.78,
      "saving_on": null,
      "date_of_purchase": "2023-12-10",
      "category": "Books"
    },
    {
      "product_id": "PROD40",
      "paid_amount": 787.59,
      "saving_on": 94.67,
      "date_of_purchase": "2023-06-27",
      "category": "Beauty"
    },
    {
      "product_id": "PROD41",
      "paid_amount": 327.52,
      "saving_on": null,
      "date_of_purchase": "2024-03-18",
      "category": "Electronics"
    },
    {
      "product_id": "PROD42",
      "paid_amount": 975.57,
      "saving_on": null,
      "date_of_purchase": "2022-10-19",
      "category": "Sports"
    },
    {
      "product_id": "PROD43",
      "paid_amount": 451.56,
      "saving_on": null,
      "date_of_purchase": "2023-01-23",
      "category": "Clothing"
    },
    {
      "product_id": "PROD44",
      "paid_amount": 674.47,
      "saving_on": 38.56,
      "date_of_purchase": "2022-02-06",
      "category": "Home & Kitchen"
    },
    {
      "product_id": "PROD45",
      "paid_amount": 847.66,
      "saving_on": null,
      "date_of_purchase": "2024-04-29",
      "category": "Toys"
    },
    {
      "product_id": "PROD46",
      "paid_amount": 876.12,
      "saving_on": null,
      "date_of_purchase": "2022-03-15",
      "category": "Beauty"
    },
    {
      "product_id": "PROD47",
      "paid_amount": 294.69,
      "saving_on": 12.87,
      "date_of_purchase": "2023-04-24",
      "category": "Food"
    },
    {
      "product_id": "PROD48",
      "paid_amount": 955.56,
      "saving_on": 117.85,
      "date_of_purchase": "2024-04-12",
      "category": "Food"
    },
    {
      "product_id": "PROD49",
      "paid_amount": 668.85,
      "saving_on": null,
      "date_of_purchase": "2023-12-19",
      "category": "Electronics"
    },
    {
      "product_id": "PROD50",
      "paid_amount": 61.46,
      "saving_on": 110.82,
      "date_of_purchase": "2024-07-18",
      "category": "Sports"
    }
  ],
  "payments": [
    {
      "payment_id": "PAY1",
      "amount": 258.82,
      "date_of_payment": "2024-10-09",
      "category": "Home & Kitchen"
    },
    {
      "payment_id": "PAY2",
      "amount": 509.01,
      "date_of_payment": "2024-01-09",
      "category": "Clothing"
    },
    {
      "payment_id": "PAY3",
      "amount": 836.07,
      "date_of_payment": "2024-06-04",
      "category": "Clothing"
    },
    {
      "payment_id": "PAY4",
      "amount": 670.33,
      "date_of_payment": "2024-08-06",
      "category": "Electronics"
    },
    {
      "payment_id": "PAY5",
      "amount": 557.94,
      "date_of_payment": "2024-10-08",
      "category": "Food"
    },
    {
      "payment_id": "PAY6",
      "amount": 997.06,
      "date_of_payment": "2024-11-15",
      "category": "Electronics"
    },
    {
      "payment_id": "PAY7",
      "amount": 21.87,
      "date_of_payment": "2024-12-09",
      "category": "Toys"
    },
    {
      "payment_id": "PAY8",
      "amount": 440.37,
      "date_of_payment": "2024-05-31",
      "category": "Toys"
    },
    {
      "payment_id": "PAY9",
      "amount": 691.25,
      "date_of_payment": "2024-12-21",
      "category": "Books"
    },
    {
      "payment_id": "PAY10",
      "amount": 195.54,
      "date_of_payment": "2024-12-18",
      "category": "Health"
    },
    {
      "payment_id": "PAY11",
      "amount": 682.4,
      "date_of_payment": "2024-02-01",
      "category": "Sports"
    },
    {
      "payment_id": "PAY12",
      "amount": 339.49,
      "date_of_payment": "2024-04-02",
      "category": "Education"
    },
    {
      "payment_id": "PAY13",
      "amount": 362.29,
      "date_of_payment": "2024-02-05",
      "category": "Books"
    },
    {
      "payment_id": "PAY14",
      "amount": 720.09,
      "date_of_payment": "2024-03-26",
      "category": "Beauty"
    },
    {
      "payment_id": "PAY15",
      "amount": 700.37,
      "date_of_payment": "2024-04-04",
      "category": "Beauty"
    },
    {
      "payment_id": "PAY16",
      "amount": 27.92,
      "date_of_payment": "2024-06-08",
      "category": "Clothing"
    },
    {
      "payment_id": "PAY17",
      "amount": 159.69,
      "date_of_payment": "2024-09-18",
      "category": "Electronics"
    },
    {
      "payment_id": "PAY18",
      "amount": 953.51,
      "date_of_payment": "2024-02-15",
      "category": "Clothing"
    },
    {
      "payment_id": "PAY19",
      "amount": 582.89,
      "date_of_payment": "2024-11-07",
      "category": "Books"
    },
    {
      "payment_id": "PAY20",
      "amount": 966.55,
      "date_of_payment": "2024-06-06",
      "category": "Education"
    },
    {
      "payment_id": "PAY21",
      "amount": 328.03,
      "date_of_payment": "2024-12-30",
      "category": "Sports"
    },
    {
      "payment_id": "PAY22",
      "amount": 812.1,
      "date_of_payment": "2024-01-29",
      "category": "Health"
    },
    {
      "payment_id": "PAY23",
      "amount": 680.78,
      "date_of_payment": "2024-06-03",
      "category": "Food"
    },
    {
      "payment_id": "PAY24",
      "amount": 841.18,
      "date_of_payment": "2024-04-23",
      "category": "Toys"
    },
    {
      "payment_id": "PAY25",
      "amount": 850.7,
      "date_of_payment": "2024-11-30",
      "category": "Health"
    },
    {
      "payment_id": "PAY26",
      "amount": 297.55,
      "date_of_payment": "2024-03-24",
      "category": "Toys"
    },
    {
      "payment_id": "PAY27",
      "amount": 804.63,
      "date_of_payment": "2024-03-29",
      "category": "Clothing"
    },
    {
      "payment_id": "PAY28",
      "amount": 633.64,
      "date_of_payment": "2024-06-09",
      "category": "Toys"
    },
    {
      "payment_id": "PAY29",
      "amount": 360.28,
      "date_of_payment": "2024-05-04",
      "category": "Health"
    },
    {
      "payment_id": "PAY30",
      "amount": 795.42,
      "date_of_payment": "2024-02-25",
      "category": "Clothing"
    },
    {
      "payment_id": "PAY31",
      "amount": 829.38,
      "date_of_payment": "2024-03-14",
      "category": "Home & Kitchen"
    },
    {
      "payment_id": "PAY32",
      "amount": 433.85,
      "date_of_payment": "2024-01-12",
      "category": "Health"
    },
    {
      "payment_id": "PAY33",
      "amount": 834.56,
      "date_of_payment": "2024-03-07",
      "category": "Health"
    },
    {
      "payment_id": "PAY34",
      "amount": 952.64,
      "date_of_payment": "2024-06-04",
      "category": "Home & Kitchen"
    },
    {
      "payment_id": "PAY35",
      "amount": 971.39,
      "date_of_payment": "2024-05-05",
      "category": "Beauty"
    },
    {
      "payment_id": "PAY36",
      "amount": 32.01,
      "date_of_payment": "2024-07-13",
      "category": "Education"
    },
    {
      "payment_id": "PAY37",
      "amount": 963.28,
      "date_of_payment": "2024-11-30",
      "category": "Home & Kitchen"
    },
    {
      "payment_id": "PAY38",
      "amount": 153.8,
      "date_of_payment": "2024-03-07",
      "category": "Sports"
    },
    {
      "payment_id": "PAY39",
      "amount": 786.55,
      "date_of_payment": "2024-02-15",
      "category": "Health"
    },
    {
      "payment_id": "PAY40",
      "amount": 909.96,
      "date_of_payment": "2024-09-20",
      "category": "Beauty"
    },
    {
      "payment_id": "PAY41",
      "amount": 989.13,
      "date_of_payment": "2024-04-17",
      "category": "Food"
    },
    {
      "payment_id": "PAY42",
      "amount": 691.49,
      "date_of_payment": "2024-03-17",
      "category": "Food"
    },
    {
      "payment_id": "PAY43",
      "amount": 885.13,
      "date_of_payment": "2024-11-02",
      "category": "Books"
    },
    {
      "payment_id": "PAY44",
      "amount": 669.11,
      "date_of_payment": "2024-10-12",
      "category": "Beauty"
    },
    {
      "payment_id": "PAY45",
      "amount": 450.24,
      "date_of_payment": "2024-02-27",
      "category": "Food"
    },
    {
      "payment_id": "PAY46",
      "amount": 257.85,
      "date_of_payment": "2024-07-05",
      "category": "Sports"
    },
    {
      "payment_id": "PAY47",
      "amount": 224.94,
      "date_of_payment": "2024-04-02",
      "category": "Toys"
    },
    {
      "payment_id": "PAY48",
      "amount": 324.04,
      "date_of_payment": "2024-01-06",
      "category": "Books"
    },
    {
      "payment_id": "PAY49",
      "amount": 328.56,
      "date_of_payment": "2024-10-13",
      "category": "Health"
    },
    {
      "payment_id": "PAY50",
      "amount": 220.45,
      "date_of_payment": "2024-09-13",
      "category": "Toys"
    }
  ],
  "savings": [
    {
      "saving_id": "SAV1",
      "amount": 284.79,
      "date_of_saving": "2024-08-10",
      "category": "Education"
    },
    {
      "saving_id": "SAV2",
      "amount": 130.36,
      "date_of_saving": "2024-05-07",
      "category": "Food"
    },
    {
      "saving_id": "SAV3",
      "amount": 468,
      "date_of_saving": "2024-05-19",
      "category": "Books"
    },
    {
      "saving_id": "SAV4",
      "amount": 104.01,
      "date_of_saving": "2024-04-17",
      "category": "Electronics"
    },
    {
      "saving_id": "SAV5",
      "amount": 83.4,
      "date_of_saving": "2024-07-28",
      "category": "Beauty"
    },
    {
      "saving_id": "SAV6",
      "amount": 204.64,
      "date_of_saving": "2024-09-27",
      "category": "Books"
    },
    {
      "saving_id": "SAV7",
      "amount": 4.34,
      "date_of_saving": "2024-03-23",
      "category": "Clothing"
    },
    {
      "saving_id": "SAV8",
      "amount": 453.15,
      "date_of_saving": "2024-08-09",
      "category": "Clothing"
    },
    {
      "saving_id": "SAV9",
      "amount": 405.18,
      "date_of_saving": "2024-01-09",
      "category": "Beauty"
    },
    {
      "saving_id": "SAV10",
      "amount": 72.66,
      "date_of_saving": "2024-08-11",
      "category": "Home & Kitchen"
    },
    {
      "saving_id": "SAV11",
      "amount": 492.51,
      "date_of_saving": "2024-02-07",
      "category": "Sports"
    },
    {
      "saving_id": "SAV12",
      "amount": 137.13,
      "date_of_saving": "2024-06-23",
      "category": "Education"
    },
    {
      "saving_id": "SAV13",
      "amount": 44.86,
      "date_of_saving": "2024-12-12",
      "category": "Education"
    },
    {
      "saving_id": "SAV14",
      "amount": 380.17,
      "date_of_saving": "2024-03-04",
      "category": "Toys"
    },
    {
      "saving_id": "SAV15",
      "amount": 393.39,
      "date_of_saving": "2024-06-28",
      "category": "Books"
    },
    {
      "saving_id": "SAV16",
      "amount": 390,
      "date_of_saving": "2024-07-22",
      "category": "Education"
    },
    {
      "saving_id": "SAV17",
      "amount": 115.18,
      "date_of_saving": "2024-08-11",
      "category": "Sports"
    },
    {
      "saving_id": "SAV18",
      "amount": 162.66,
      "date_of_saving": "2024-05-14",
      "category": "Home & Kitchen"
    },
    {
      "saving_id": "SAV19",
      "amount": 6.84,
      "date_of_saving": "2024-11-10",
      "category": "Electronics"
    },
    {
      "saving_id": "SAV20",
      "amount": 100.91,
      "date_of_saving": "2024-04-03",
      "category": "Toys"
    },
    {
      "saving_id": "SAV21",
      "amount": 144.02,
      "date_of_saving": "2024-12-06",
      "category": "Food"
    },
    {
      "saving_id": "SAV22",
      "amount": 489.97,
      "date_of_saving": "2024-12-08",
      "category": "Education"
    },
    {
      "saving_id": "SAV23",
      "amount": 347.99,
      "date_of_saving": "2024-11-10",
      "category": "Home & Kitchen"
    },
    {
      "saving_id": "SAV24",
      "amount": 128.11,
      "date_of_saving": "2024-06-22",
      "category": "Health"
    },
    {
      "saving_id": "SAV25",
      "amount": 94.69,
      "date_of_saving": "2024-10-29",
      "category": "Toys"
    },
    {
      "saving_id": "SAV26",
      "amount": 355.8,
      "date_of_saving": "2024-03-05",
      "category": "Toys"
    },
    {
      "saving_id": "SAV27",
      "amount": 303.78,
      "date_of_saving": "2024-10-17",
      "category": "Electronics"
    },
    {
      "saving_id": "SAV28",
      "amount": 279.96,
      "date_of_saving": "2024-02-29",
      "category": "Books"
    },
    {
      "saving_id": "SAV29",
      "amount": 472.87,
      "date_of_saving": "2024-09-02",
      "category": "Education"
    },
    {
      "saving_id": "SAV30",
      "amount": 219.53,
      "date_of_saving": "2024-01-11",
      "category": "Clothing"
    },
    {
      "saving_id": "SAV31",
      "amount": 468.88,
      "date_of_saving": "2024-01-30",
      "category": "Clothing"
    },
    {
      "saving_id": "SAV32",
      "amount": 253.98,
      "date_of_saving": "2024-11-09",
      "category": "Sports"
    },
    {
      "saving_id": "SAV33",
      "amount": 254.25,
      "date_of_saving": "2024-03-31",
      "category": "Sports"
    },
    {
      "saving_id": "SAV34",
      "amount": 54.65,
      "date_of_saving": "2024-10-18",
      "category": "Home & Kitchen"
    },
    {
      "saving_id": "SAV35",
      "amount": 86.86,
      "date_of_saving": "2024-05-04",
      "category": "Clothing"
    },
    {
      "saving_id": "SAV36",
      "amount": 448.09,
      "date_of_saving": "2024-02-08",
      "category": "Education"
    },
    {
      "saving_id": "SAV37",
      "amount": 378.18,
      "date_of_saving": "2024-08-10",
      "category": "Home & Kitchen"
    },
    {
      "saving_id": "SAV38",
      "amount": 320.91,
      "date_of_saving": "2024-06-05",
      "category": "Beauty"
    },
    {
      "saving_id": "SAV39",
      "amount": 14.1,
      "date_of_saving": "2024-02-07",
      "category": "Toys"
    },
    {
      "saving_id": "SAV40",
      "amount": 329.53,
      "date_of_saving": "2024-12-14",
      "category": "Food"
    },
    {
      "saving_id": "SAV41",
      "amount": 104.32,
      "date_of_saving": "2024-08-30",
      "category": "Home & Kitchen"
    },
    {
      "saving_id": "SAV42",
      "amount": 253.44,
      "date_of_saving": "2024-04-24",
      "category": "Beauty"
    },
    {
      "saving_id": "SAV43",
      "amount": 479.82,
      "date_of_saving": "2024-12-08",
      "category": "Electronics"
    },
    {
      "saving_id": "SAV44",
      "amount": 58.62,
      "date_of_saving": "2024-04-03",
      "category": "Education"
    },
    {
      "saving_id": "SAV45",
      "amount": 258,
      "date_of_saving": "2024-08-26",
      "category": "Health"
    },
    {
      "saving_id": "SAV46",
      "amount": 499.47,
      "date_of_saving": "2024-09-20",
      "category": "Food"
    },
    {
      "saving_id": "SAV47",
      "amount": 277.23,
      "date_of_saving": "2024-05-29",
      "category": "Home & Kitchen"
    },
    {
      "saving_id": "SAV48",
      "amount": 235.76,
      "date_of_saving": "2024-10-04",
      "category": "Beauty"
    },
    {
      "saving_id": "SAV49",
      "amount": 303.02,
      "date_of_saving": "2024-01-05",
      "category": "Food"
    },
    {
      "saving_id": "SAV50",
      "amount": 438.38,
      "date_of_saving": "2024-11-30",
      "category": "Home & Kitchen"
    }
  ]
}

const getDataByMonthAndYear = (year, month) => {
  if (!year) {
      throw new Error('Year is required');
  }

  let startDate, endDate;

  if (!month) {
      startDate = new Date(year, 0, 1);
      endDate = new Date(year, 11, 31);
  } else {
      if (month < 1 || month > 12) {
          throw new Error('Invalid month');
      }
      startDate = new Date(year, month - 1, 1);
      endDate = new Date(year, month - 1, new Date(year, month, 0).getDate());
  }

  const returnData = {
      "purchases": [],
      "payments": [],
      "savings": []
  };

  // Combine purchases by category
  const combinedPurchases = {};
  data.purchases
      .filter(purchase => {
          const purchaseDate = new Date(purchase.date_of_purchase);
          return purchaseDate >= startDate && purchaseDate <= endDate;
      })
      .forEach(purchase => {
          if (combinedPurchases[purchase.category]) {
              combinedPurchases[purchase.category] += purchase.paid_amount;
          } else {
              combinedPurchases[purchase.category] = purchase.paid_amount;
          }
      });

  // Convert combinedPurchases object to array of objects and round the total amount to two decimal places
  returnData.purchases = Object.keys(combinedPurchases).map(category => ({
      category: category,
      totalAmount: Number(combinedPurchases[category].toFixed(2)) // Round to 2 decimal places
  }));

  // Combine payments by category
  const combinedPayments = {};
  data.payments
      .filter(payment => {
          const paymentDate = new Date(payment.date_of_payment);
          return paymentDate >= startDate && paymentDate <= endDate;
      })
      .forEach(payment => {
          if (combinedPayments[payment.category]) {
              combinedPayments[payment.category] += payment.amount;
          } else {
              combinedPayments[payment.category] = payment.amount;
          }
      });

  // Convert combinedPayments object to array of objects and round the total amount to two decimal places
  returnData.payments = Object.keys(combinedPayments).map(category => ({
      category: category,
      totalAmount: Number(combinedPayments[category].toFixed(2)) // Round to 2 decimal places
  }));

  // Combine savings by category
  const combinedSavings = {};
  data.savings
      .filter(saving => {
          const savingDate = new Date(saving.date_of_saving);
          return savingDate >= startDate && savingDate <= endDate;
      })
      .forEach(saving => {
          if (combinedSavings[saving.category]) {
              combinedSavings[saving.category] += saving.amount;
          } else {
              combinedSavings[saving.category] = saving.amount;
          }
      });

  // Convert combinedSavings object to array of objects and round the total amount to two decimal places
  returnData.savings = Object.keys(combinedSavings).map(category => ({
      category: category,
      totalAmount: Number(combinedSavings[category].toFixed(2)) // Round to 2 decimal places
  }));

  return returnData;
};

// Example usage
const result = getDataByMonthAndYear(2024);
// const result = getDataByMonthAndYear(2024, 4);
console.log(result);

export default getDataByMonthAndYear;
